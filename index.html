<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsciiImgGen - HD ASCII Art Video Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Floating Sidebar Toggle -->
    <div class="sidebar-toggle" id="sidebarToggle">
        <span>‚öôÔ∏è</span>
        <div class="sidebar-menu" id="sidebarMenu">
            <button class="sidebar-menu-item" data-overlay="modeSettings">‚öôÔ∏è Mode & Settings</button>
            <button class="sidebar-menu-item" data-overlay="effectsSettings">‚ú® Effects</button>
            <button class="sidebar-menu-item" data-overlay="imageOverlaySettings">üñºÔ∏è Image Overlay</button>
            <button class="sidebar-menu-item" data-overlay="soundReactiveSettings">üéµ Sound Reactive</button>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>AsciiImgGen</h1>
            <p class="subtitle">Convert images into HD colored ASCII art videos</p>
        </header>

        <main>
            <!-- File Input Section -->
            <section class="input-section">
                <div class="file-input-tabs">
                    <button class="tab-btn active" data-tab="image">Image</button>
                    <button class="tab-btn" data-tab="video">Video</button>
                </div>
                
                <div class="file-input-wrapper" id="imageTab" data-tab-content="image">
                    <input 
                        type="file" 
                        id="imageInput" 
                        accept="image/*" 
                        class="file-input"
                    >
                    <label for="imageInput" class="file-input-label">
                        <span class="upload-icon">üñºÔ∏è</span>
                        <span class="upload-text">Click to upload image or drag & drop</span>
                        <span class="file-size-hint">(JPG, PNG, WebP supported)</span>
                    </label>
                </div>
                
                <div class="file-input-wrapper" id="videoTab" data-tab-content="video" style="display: none;">
                    <input 
                        type="file" 
                        id="videoInput" 
                        accept="video/*" 
                        class="file-input"
                    >
                    <label for="videoInput" class="file-input-label">
                        <span class="upload-icon">üé•</span>
                        <span class="upload-text">Click to upload video or drag & drop</span>
                        <span class="file-size-hint">(MP4, WebM, MOV supported)</span>
                    </label>
                </div>
            </section>

            <!-- Settings Section - Collapsible Overlay -->
            <section class="settings-section overlay-panel" id="modeSettings">
                <h3 style="margin-top: 0;">Mode & Settings</h3>
                <div class="settings-group">
                    <label for="modeSelect">Mode:</label>
                    <select id="modeSelect" class="input-field">
                        <option value="original">Original (Static)</option>
                        <option value="scroll">Scroll (Flowing)</option>
                        <option value="zoom">Zoom (Resolution)</option>
                        <option value="flag">Flag (Waving)</option>
                        <option value="dither">Dither (Pattern)</option>
                        <option value="glitch">Glitch (Displacement)</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label for="fontSelect">Font:</label>
                    <select id="fontSelect" class="input-field">
                        <option value="Verdana">Verdana</option>
                        <option value="DOS">DOS (dos.ttf)</option>
                        <option value="Courier New">Courier New</option>
                        <option value="Monaco">Monaco</option>
                        <option value="Menlo">Menlo</option>
                        <option value="Consolas">Consolas</option>
                        <option value="'Roboto Mono'">Roboto Mono</option>
                        <option value="'Source Code Pro'">Source Code Pro</option>
                        <option value="'IBM Plex Mono'">IBM Plex Mono</option>
                        <option value="'JetBrains Mono'">JetBrains Mono</option>
                        <option value="Inconsolata">Inconsolata</option>
                        <option value="'DejaVu Sans Mono'">DejaVu Sans Mono</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label for="customCharsInput">Custom Characters:</label>
                    <input 
                        type="text" 
                        id="customCharsInput" 
                        placeholder="Leave empty for default" 
                        value="" 
                        class="input-field"
                        style="width: auto; min-width: 150px;"
                    >
                </div>
                <div class="settings-group">
                    <label style="display: block; margin-bottom: 10px; font-weight: bold;">Brightness Level Characters:</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 12px;">
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel0">0-12.5% (Dark):</label>
                            <input type="text" id="charLevel0" class="char-level-input" value=" .," style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel1">12.5-25%:</label>
                            <input type="text" id="charLevel1" class="char-level-input" value=".,'\`" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel2">25-37.5%:</label>
                            <input type="text" id="charLevel2" class="char-level-input" value=":;`~" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel3">37.5-50%:</label>
                            <input type="text" id="charLevel3" class="char-level-input" value="-~_‚Äì" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel4">50-62.5%:</label>
                            <input type="text" id="charLevel4" class="char-level-input" value="=+^-~" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel5">62.5-75%:</label>
                            <input type="text" id="charLevel5" class="char-level-input" value="*xX+o" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel6">75-87.5%:</label>
                            <input type="text" id="charLevel6" class="char-level-input" value="#@%&WMO" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                        <div style="padding: 8px; background: rgba(0,212,255,0.1); border-radius: 4px;">
                            <label for="charLevel7">87.5-100% (Bright):</label>
                            <input type="text" id="charLevel7" class="char-level-input" value="#@%&WMB$D" style="width: 100%; margin-top: 4px; font-size: 11px;">
                        </div>
                    </div>
                </div>
                <div class="settings-group">
                    <label for="resolutionSlider">Resolution: <span id="resolutionValue">200</span>w</label>
                    <input 
                        type="range" 
                        id="resolutionSlider" 
                        min="10" 
                        max="500" 
                        value="200" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="checkbox" id="fixedFontSizeCheckbox">
                        Fixed Font Size: <span id="fixedFontSizeValue" style="opacity: 0.5;">9</span>px
                    </label>
                </div>
                <div class="settings-group" id="fixedFontSizeSettings" style="display: none;">
                    <input 
                        type="range" 
                        id="fixedFontSizeSlider" 
                        min="3" 
                        max="50" 
                        value="9" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="fpsSlider">FPS: <span id="fpsValue">5</span></label>
                    <input 
                        type="range" 
                        id="fpsSlider" 
                        min="1" 
                        max="30" 
                        value="5" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="zoomSettings" style="display: none;">
                    <label for="zoomMinSlider">Min Chars: <span id="zoomMinValue">10</span></label>
                    <input 
                        type="range" 
                        id="zoomMinSlider" 
                        min="1" 
                        max="1000" 
                        value="10" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="zoomMaxSettings" style="display: none;">
                    <label for="zoomMaxSlider">Max Chars: <span id="zoomMaxValue">300</span></label>
                    <input 
                        type="range" 
                        id="zoomMaxSlider" 
                        min="1" 
                        max="1000" 
                        value="300" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="flagDistanceSettings" style="display: none;">
                    <label for="flagDistanceSlider">Wave Distance: <span id="flagDistanceValue">20</span>px</label>
                    <input 
                        type="range" 
                        id="flagDistanceSlider" 
                        min="1" 
                        max="100" 
                        value="20" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="flagSpeedSettings" style="display: none;">
                    <label for="flagSpeedSlider">Wave Speed: <span id="flagSpeedValue">1</span></label>
                    <input 
                        type="range" 
                        id="flagSpeedSlider" 
                        min="1" 
                        max="30" 
                        value="1" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="ditherSensitivitySettings" style="display: none;">
                    <label for="ditherSensitivitySlider">Dither Sensitivity: <span id="ditherSensitivityValue">0.3</span></label>
                    <input 
                        type="range" 
                        id="ditherSensitivitySlider" 
                        min="0.05" 
                        max="10" 
                        step="0.1"
                        value="0.3" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="ditherContrastSettings" style="display: none;">
                    <label for="ditherContrastSlider">Dither Contrast: <span id="ditherContrastValue">1</span></label>
                    <input 
                        type="range" 
                        id="ditherContrastSlider" 
                        min="0.1" 
                        max="10" 
                        step="0.1"
                        value="1" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="glitchIntensitySettings" style="display: none;">
                    <label for="glitchIntensitySlider">Glitch Intensity: <span id="glitchIntensityValue">3</span></label>
                    <input 
                        type="range" 
                        id="glitchIntensitySlider" 
                        min="1" 
                        max="20" 
                        value="3" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="durationInput">Video Duration (seconds):</label>
                    <input 
                        type="number" 
                        id="durationInput" 
                        min="1" 
                        max="30" 
                        value="5" 
                        class="input-field"
                    >
                </div>
            </section>

            <!-- Effects Section - Collapsible Overlay -->
            <section class="settings-section overlay-panel" id="effectsSettings">
                <h3 style="margin-top: 0;">Effects</h3>
                <div class="settings-group">
                    <label for="vignetteSlider">Vignette: <span id="vignetteValue">0</span></label>
                    <input 
                        type="range" 
                        id="vignetteSlider" 
                        min="0" 
                        max="1" 
                        step="0.05"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="brightnessSlider">Brightness: <span id="brightnessValue">0</span></label>
                    <input 
                        type="range" 
                        id="brightnessSlider" 
                        min="-100" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="contrastSlider">Contrast: <span id="contrastValue">100</span>%</label>
                    <input 
                        type="range" 
                        id="contrastSlider" 
                        min="0" 
                        max="200" 
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="saturationSlider">Saturation: <span id="saturationValue">100</span>%</label>
                    <input 
                        type="range" 
                        id="saturationSlider" 
                        min="0" 
                        max="200" 
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="hueSlider">Hue Shift: <span id="hueValue">0</span>¬∞</label>
                    <input 
                        type="range" 
                        id="hueSlider" 
                        min="0" 
                        max="360" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="grayscaleSlider">Grayscale: <span id="grayscaleValue">0</span>%</label>
                    <input 
                        type="range" 
                        id="grayscaleSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="invertSlider">Invert: <span id="invertValue">0</span>%</label>
                    <input 
                        type="range" 
                        id="invertSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="blurSlider">Blur: <span id="blurValue">0</span>px</label>
                    <input 
                        type="range" 
                        id="blurSlider" 
                        min="0" 
                        max="20" 
                        step="0.5"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="sepiaSlider">Sepia: <span id="sepiaValue">0</span>%</label>
                    <input 
                        type="range" 
                        id="sepiaSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="opacitySlider">Opacity: <span id="opacityValue">100</span>%</label>
                    <input 
                        type="range" 
                        id="opacitySlider" 
                        min="10" 
                        max="100" 
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="glowSlider">Glow: <span id="glowValue">0</span></label>
                    <input 
                        type="range" 
                        id="glowSlider" 
                        min="0" 
                        max="20" 
                        step="0.5"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="brightnessBoostSlider">Brightness Boost: <span id="brightnessBoostValue">0</span></label>
                    <input 
                        type="range" 
                        id="brightnessBoostSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="warmthSlider">Warmth: <span id="warmthValue">0</span></label>
                    <input 
                        type="range" 
                        id="warmthSlider" 
                        min="-50" 
                        max="50" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="shadowSlider">Shadow Depth: <span id="shadowValue">0</span></label>
                    <input 
                        type="range" 
                        id="shadowSlider" 
                        min="0" 
                        max="20" 
                        step="0.5"
                        value="0" 
                        class="input-slider"
                    >
                </div>
            </section>

            <!-- Image Overlay Section - Collapsible Overlay -->
            <section class="settings-section overlay-panel" id="imageOverlaySettings">
                <h3 style="margin-top: 0;">Image Overlay</h3>
                <div class="overlay-controls">
                    <div class="settings-group">
                        <label for="overlayImageInput">Upload Overlay Image:</label>
                        <input 
                            type="file" 
                            id="overlayImageInput" 
                            accept="image/*" 
                            class="file-input"
                        >
                        <label for="overlayImageInput" class="file-input-button">Choose Image</label>
                    </div>
                    <div class="settings-group">
                        <label>
                            <input type="checkbox" id="overlayEnabledToggle" style="width: 20px; height: 20px; cursor: pointer;">
                            Enable Overlay
                        </label>
                    </div>
                </div>

                <!-- Overlay Positioning & Sizing -->
                <div id="overlayPositioningControls" style="display: none;">
                    <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">Positioning & Sizing</h4>
                    <div class="settings-group">
                        <label for="overlayXSlider">Position X: <span id="overlayXValue">0</span>px</label>
                        <input 
                            type="range" 
                            id="overlayXSlider" 
                            min="0" 
                            max="100" 
                            step="1"
                            value="50" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayYSlider">Position Y: <span id="overlayYValue">0</span>px</label>
                        <input 
                            type="range" 
                            id="overlayYSlider" 
                            min="0" 
                            max="100" 
                            step="1"
                            value="50" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlaySizeSlider">Size: <span id="overlaySizeValue">550</span>px</label>
                        <input 
                            type="range" 
                            id="overlaySizeSlider" 
                            min="50" 
                            max="800" 
                            step="10"
                            value="550" 
                            class="input-slider"
                        >
                    </div>
                </div>

                <!-- Overlay Effects -->
                <div id="overlayEffectsControls" style="display: none;">
                    <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">Effects</h4>
                    <div class="settings-group">
                        <label for="overlayOpacitySlider">Opacity: <span id="overlayOpacityValue">100</span>%</label>
                        <input 
                            type="range" 
                            id="overlayOpacitySlider" 
                            min="0" 
                            max="100" 
                            value="100" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayBlurSlider">Blur: <span id="overlayBlurValue">0</span>px</label>
                        <input 
                            type="range" 
                            id="overlayBlurSlider" 
                            min="0" 
                            max="20" 
                            step="0.5"
                            value="0" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayGlowSlider">Glow: <span id="overlayGlowValue">0</span></label>
                        <input 
                            type="range" 
                            id="overlayGlowSlider" 
                            min="0" 
                            max="20" 
                            step="0.5"
                            value="0" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayShadowSlider">Shadow: <span id="overlayShadowValue">0</span></label>
                        <input 
                            type="range" 
                            id="overlayShadowSlider" 
                            min="0" 
                            max="20" 
                            step="0.5"
                            value="0" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlaySaturationSlider">Saturation: <span id="overlaySaturationValue">100</span>%</label>
                        <input 
                            type="range" 
                            id="overlaySaturationSlider" 
                            min="0" 
                            max="200" 
                            value="100" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayBrightnessSlider">Brightness: <span id="overlayBrightnessValue">0</span></label>
                        <input 
                            type="range" 
                            id="overlayBrightnessSlider" 
                            min="-100" 
                            max="100" 
                            value="0" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayContrastSlider">Contrast: <span id="overlayContrastValue">100</span>%</label>
                        <input 
                            type="range" 
                            id="overlayContrastSlider" 
                            min="0" 
                            max="200" 
                            value="100" 
                            class="input-slider"
                        >
                    </div>
                    <div class="settings-group">
                        <label for="overlayRotationSlider">Rotation: <span id="overlayRotationValue">0</span>¬∞</label>
                        <input 
                            type="range" 
                            id="overlayRotationSlider" 
                            min="0" 
                            max="360" 
                            step="1"
                            value="0" 
                            class="input-slider"
                        >
                    </div>
                </div>
            </section>

            <!-- Sound Reactive Section - Collapsible Overlay -->
            <section class="settings-section overlay-panel" id="soundReactiveSettings">
                <h3 style="margin-top: 0;">Sound Reactive Effects</h3>
                
                <div class="audio-controls">
                    <div class="settings-group">
                        <label for="audioInput">Upload Audio:</label>
                        <input 
                            type="file" 
                            id="audioInput" 
                            accept="audio/*" 
                            class="file-input"
                        >
                        <label for="audioInput" class="file-input-button">Choose Audio</label>
                    </div>
                    <div class="settings-group">
                        <label>
                            <input type="checkbox" id="soundReactiveToggle" style="width: 20px; height: 20px; cursor: pointer;">
                            Enable Sound Reactive Effects
                        </label>
                    </div>
                </div>

                <!-- Audio Player Controls -->
                <div class="audio-player-controls" id="audioPlayerControls" style="display: none;">
                    <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 12px; flex-wrap: wrap;">
                        <button id="playAudioButton" class="audio-btn">‚ñ∂ Play</button>
                        <button id="pauseAudioButton" class="audio-btn" style="display: none;">‚è∏ Pause</button>
                        <button id="stopAudioButton" class="audio-btn">‚ñ† Stop</button>
                        <span id="audioTimeDisplay" style="font-size: 0.9rem; color: #00d4ff; min-width: 100px;">0:00 / 0:00</span>
                    </div>
                    <div style="width: 100%; height: 4px; background: rgba(0, 212, 255, 0.2); border-radius: 2px; cursor: pointer; position: relative;" id="audioProgressBar">
                        <div style="height: 100%; background: #00d4ff; border-radius: 2px; width: 0%;" id="audioProgressFill"></div>
                    </div>
                </div>

                <!-- Master Control -->
                <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">Master Control</h4>
                <div class="settings-group">
                    <label for="volumeSensitivitySlider">Volume Sensitivity: <span id="volumeSensitivityValue">1.0</span></label>
                    <input 
                        type="range" 
                        id="volumeSensitivitySlider" 
                        min="0.1" 
                        max="5" 
                        step="0.1"
                        value="1.0" 
                        class="input-slider"
                    >
                </div>

                <!-- Frequency Response -->
                <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">Frequency Response</h4>
                <div class="settings-group">
                    <label for="bassResponseSlider">Bass Response: <span id="bassResponseValue">1.0</span></label>
                    <input 
                        type="range" 
                        id="bassResponseSlider" 
                        min="0" 
                        max="3" 
                        step="0.1"
                        value="1.0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">React to low frequencies (kick, bass)</small>
                </div>
                <div class="settings-group">
                    <label for="midResponseSlider">Mid Response: <span id="midResponseValue">1.0</span></label>
                    <input 
                        type="range" 
                        id="midResponseSlider" 
                        min="0" 
                        max="3" 
                        step="0.1"
                        value="1.0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">React to mid frequencies (vocals, guitar)</small>
                </div>
                <div class="settings-group">
                    <label for="trebleResponseSlider">Treble Response: <span id="trebleResponseValue">1.0</span></label>
                    <input 
                        type="range" 
                        id="trebleResponseSlider" 
                        min="0" 
                        max="3" 
                        step="0.1"
                        value="1.0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">React to high frequencies (hi-hats, cymbals)</small>
                </div>

                <!-- Dynamics -->
                <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">Dynamics</h4>
                <div class="settings-group">
                    <label for="attackSpeedSlider">Attack Speed: <span id="attackSpeedValue">0.8</span></label>
                    <input 
                        type="range" 
                        id="attackSpeedSlider" 
                        min="0.1" 
                        max="1" 
                        step="0.05"
                        value="0.8" 
                        class="input-slider"
                    >
                    <small style="color: #888;">How fast effects respond to volume spikes</small>
                </div>
                <div class="settings-group">
                    <label for="decaySpeedSlider">Decay Speed: <span id="decaySpeedValue">0.3</span></label>
                    <input 
                        type="range" 
                        id="decaySpeedSlider" 
                        min="0.01" 
                        max="1" 
                        step="0.01"
                        value="0.3" 
                        class="input-slider"
                    >
                    <small style="color: #888;">How fast effects fade when volume drops</small>
                </div>
                <div class="settings-group">
                    <label for="smoothingSlider">Smoothing: <span id="smoothingValue">0.5</span></label>
                    <input 
                        type="range" 
                        id="smoothingSlider" 
                        min="0" 
                        max="0.95" 
                        step="0.05"
                        value="0.5" 
                        class="input-slider"
                    >
                    <small style="color: #888;">Smooth out rapid audio changes</small>
                </div>

                <!-- ASCII Effects -->
                <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">ASCII Art Effects</h4>
                <div class="settings-group">
                    <label for="asciiResolutionSlider">Resolution (Character Width): <span id="asciiResolutionValue">0</span></label>
                    <input 
                        type="range" 
                        id="asciiResolutionSlider" 
                        min="-50" 
                        max="50" 
                        step="1"
                        value="0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">Adjusts character size based on audio</small>
                </div>
                <div class="settings-group">
                    <label for="asciiBrightnessSlider">Brightness Change: <span id="asciiBrightnessValue">50</span></label>
                    <input 
                        type="range" 
                        id="asciiBrightnessSlider" 
                        min="-100" 
                        max="100" 
                        step="1"
                        value="50" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="asciiContrastSlider">Contrast Change: <span id="asciiContrastValue">0</span></label>
                    <input 
                        type="range" 
                        id="asciiContrastSlider" 
                        min="-100" 
                        max="100" 
                        step="1"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="asciiOpacitySlider">Opacity Change: <span id="asciiOpacityValue">0</span></label>
                    <input 
                        type="range" 
                        id="asciiOpacitySlider" 
                        min="-100" 
                        max="100" 
                        step="1"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="asciiHueShiftSlider">Hue Shift: <span id="asciiHueShiftValue">0</span>¬∞</label>
                    <input 
                        type="range" 
                        id="asciiHueShiftSlider" 
                        min="-180" 
                        max="180" 
                        step="5"
                        value="0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">Rotate colors based on audio</small>
                </div>
                <div class="settings-group">
                    <label for="asciiSaturationSlider">Saturation Change: <span id="asciiSaturationValue">0</span></label>
                    <input 
                        type="range" 
                        id="asciiSaturationSlider" 
                        min="-100" 
                        max="100" 
                        step="5"
                        value="0" 
                        class="input-slider"
                    >
                </div>

                <!-- Overlay Effects -->
                <h4 style="color: #00d4ff; margin-top: 15px; margin-bottom: 10px;">Overlay Effects</h4>
                <div class="settings-group">
                    <label for="overlaySizeChangeSlider">Size Change: <span id="overlaySizeChangeValue">100</span>px</label>
                    <input 
                        type="range" 
                        id="overlaySizeChangeSlider" 
                        min="-200" 
                        max="200" 
                        step="5"
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="overlayBrightnessChangeSlider">Brightness Change: <span id="overlayBrightnessChangeValue">0</span></label>
                    <input 
                        type="range" 
                        id="overlayBrightnessChangeSlider" 
                        min="-100" 
                        max="100" 
                        step="1"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="overlayContrastChangeSlider">Contrast Change: <span id="overlayContrastChangeValue">0</span></label>
                    <input 
                        type="range" 
                        id="overlayContrastChangeSlider" 
                        min="-100" 
                        max="100" 
                        step="1"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="overlayOpacityChangeSlider">Opacity Change: <span id="overlayOpacityChangeValue">0</span></label>
                    <input 
                        type="range" 
                        id="overlayOpacityChangeSlider" 
                        min="-100" 
                        max="100" 
                        step="1"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="overlayXChangeSlider">X Position Change: <span id="overlayXChangeValue">0</span>px</label>
                    <input 
                        type="range" 
                        id="overlayXChangeSlider" 
                        min="-200" 
                        max="200" 
                        step="5"
                        value="0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">Horizontal movement with audio</small>
                </div>
                <div class="settings-group">
                    <label for="overlayYChangeSlider">Y Position Change: <span id="overlayYChangeValue">0</span>px</label>
                    <input 
                        type="range" 
                        id="overlayYChangeSlider" 
                        min="-200" 
                        max="200" 
                        step="5"
                        value="0" 
                        class="input-slider"
                    >
                    <small style="color: #888;">Vertical movement with audio</small>
                </div>
            </section>

            <!-- Export Options Section -->
            <section class="settings-section">
                <h2>Export Options</h2>
                <div class="settings-group">
                    <label for="exportResolutionSelect">Export Resolution:</label>
                    <select id="exportResolutionSelect" class="select-field">
                        <option value="480">480p (480px)</option>
                        <option value="720">720p (720px)</option>
                        <option value="810">810p (810px)</option>
                        <option value="960">960p (960px)</option>
                        <option value="1080" selected>1080p (1080px)</option>
                        <option value="1440">1440p (1440px)</option>
                        <option value="1920">1920p (1920px)</option>
                        <option value="2160">4K (2160px)</option>
                        <option value="3840">4K UHD (3840px)</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label>
                        <input type="checkbox" id="exportFullAudioToggle" style="width: 20px; height: 20px; cursor: pointer;">
                        Export Full Audio Length
                    </label>
                    <small style="color: #888;">Generate video matching full audio duration with synced effects</small>
                </div>
            </section>

            <!-- Canvas Preview Section -->
            <section class="canvas-section">
                <h2>Preview</h2>
                <div class="canvas-container" id="canvasContainer">
                    <canvas id="outputCanvas" width="1080" height="1920"></canvas>
                    <div id="overlayContainer" class="overlay-layer-container">
                        <img id="overlayImage" class="overlay-image" style="display: none;">
                    </div>
                    <div id="effectsOverlay" class="effects-overlay"></div>
                    <div id="canvasPlaceholder" class="canvas-placeholder">
                        Upload an image to generate ASCII art preview
                    </div>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="progress-section" id="progressSection" style="display: none;">
                <h3>Generating Video...</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <p class="progress-text" id="progressText">0%</p>
                <button id="cancelButton" class="btn btn-secondary">Cancel</button>
            </section>

            <!-- Action Buttons Section -->
            <section class="action-section" id="actionSection" style="display: none;">
                <button id="generateButton" class="btn btn-primary">Generate Video</button>
                <button id="downloadButton" class="btn btn-success" style="display: none;">
                    ‚úì Download Video
                </button>
            </section>

            <!-- Status Messages -->
            <div id="statusMessage" class="status-message"></div>
        </main>

        <footer>
            <p>AsciiImgGen ¬© 2026 | Powered by FFmpeg.wasm</p>
        </footer>
    </div>

    <!-- Hidden canvas for image processing -->
    <canvas id="tempCanvas" style="display: none;"></canvas>

    <!-- FFmpeg.wasm Library -->
    <script async src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg/dist/ffmpeg.min.js"></script>
    
    <!-- Main Application Script -->
    <script src="script.js"></script>
</body>
</html>
