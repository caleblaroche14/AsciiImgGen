<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsciiImgGen - HD ASCII Art Video Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>AsciiImgGen</h1>
            <p class="subtitle">Convert images into HD colored ASCII art videos</p>
        </header>

        <main>
            <!-- File Input Section -->
            <section class="input-section">
                <div class="file-input-wrapper">
                    <input 
                        type="file" 
                        id="imageInput" 
                        accept="image/*" 
                        class="file-input"
                    >
                    <label for="imageInput" class="file-input-label">
                        <span class="upload-icon">ðŸ“¤</span>
                        <span class="upload-text">Click to upload image or drag & drop</span>
                        <span class="file-size-hint">(JPG, PNG, WebP supported)</span>
                    </label>
                </div>
            </section>

            <!-- Settings Section -->
            <section class="settings-section">
                <div class="settings-group">
                    <label for="modeSelect">Mode:</label>
                    <select id="modeSelect" class="input-field">
                        <option value="original">Original (Static)</option>
                        <option value="scroll">Scroll (Flowing)</option>
                        <option value="zoom">Zoom (Resolution)</option>
                        <option value="flag">Flag (Waving)</option>
                        <option value="dither">Dither (Pattern)</option>
                        <option value="glitch">Glitch (Displacement)</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label for="fontSelect">Font:</label>
                    <select id="fontSelect" class="input-field">
                        <option value="Verdana">Verdana</option>
                        <option value="DOS">DOS (dos.ttf)</option>
                        <option value="Courier New">Courier New</option>
                        <option value="Monaco">Monaco</option>
                        <option value="Menlo">Menlo</option>
                        <option value="Consolas">Consolas</option>
                        <option value="'Roboto Mono'">Roboto Mono</option>
                        <option value="'Source Code Pro'">Source Code Pro</option>
                        <option value="'IBM Plex Mono'">IBM Plex Mono</option>
                        <option value="'JetBrains Mono'">JetBrains Mono</option>
                        <option value="Inconsolata">Inconsolata</option>
                        <option value="'DejaVu Sans Mono'">DejaVu Sans Mono</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label for="customCharsInput">Custom Characters:</label>
                    <input 
                        type="text" 
                        id="customCharsInput" 
                        placeholder="Leave empty for default" 
                        value="" 
                        class="input-field"
                        style="width: auto; min-width: 150px;"
                    >
                </div>
                <div class="settings-group">
                    <label for="resolutionSlider">Resolution: <span id="resolutionValue">200</span>w</label>
                    <input 
                        type="range" 
                        id="resolutionSlider" 
                        min="30" 
                        max="300" 
                        value="200" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="fpsSlider">FPS: <span id="fpsValue">5</span></label>
                    <input 
                        type="range" 
                        id="fpsSlider" 
                        min="1" 
                        max="30" 
                        value="5" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="zoomSettings" style="display: none;">
                    <label for="zoomMinSlider">Min Chars: <span id="zoomMinValue">10</span></label>
                    <input 
                        type="range" 
                        id="zoomMinSlider" 
                        min="1" 
                        max="1000" 
                        value="10" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="zoomMaxSettings" style="display: none;">
                    <label for="zoomMaxSlider">Max Chars: <span id="zoomMaxValue">300</span></label>
                    <input 
                        type="range" 
                        id="zoomMaxSlider" 
                        min="1" 
                        max="1000" 
                        value="300" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="flagDistanceSettings" style="display: none;">
                    <label for="flagDistanceSlider">Wave Distance: <span id="flagDistanceValue">20</span>px</label>
                    <input 
                        type="range" 
                        id="flagDistanceSlider" 
                        min="1" 
                        max="100" 
                        value="20" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="flagSpeedSettings" style="display: none;">
                    <label for="flagSpeedSlider">Wave Speed: <span id="flagSpeedValue">1</span></label>
                    <input 
                        type="range" 
                        id="flagSpeedSlider" 
                        min="1" 
                        max="30" 
                        value="1" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="ditherSensitivitySettings" style="display: none;">
                    <label for="ditherSensitivitySlider">Dither Sensitivity: <span id="ditherSensitivityValue">0.3</span></label>
                    <input 
                        type="range" 
                        id="ditherSensitivitySlider" 
                        min="0.05" 
                        max="10" 
                        step="0.1"
                        value="0.3" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="ditherContrastSettings" style="display: none;">
                    <label for="ditherContrastSlider">Dither Contrast: <span id="ditherContrastValue">1</span></label>
                    <input 
                        type="range" 
                        id="ditherContrastSlider" 
                        min="0.1" 
                        max="10" 
                        step="0.1"
                        value="1" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group" id="glitchIntensitySettings" style="display: none;">
                    <label for="glitchIntensitySlider">Glitch Intensity: <span id="glitchIntensityValue">3</span></label>
                    <input 
                        type="range" 
                        id="glitchIntensitySlider" 
                        min="1" 
                        max="20" 
                        value="3" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="durationInput">Video Duration (seconds):</label>
                    <input 
                        type="number" 
                        id="durationInput" 
                        min="1" 
                        max="30" 
                        value="5" 
                        class="input-field"
                    >
                </div>
            </section>

            <!-- Effects Section -->
            <section class="settings-section">
                <h3 style="margin-top: 0;">Effects</h3>
                <div class="settings-group">
                    <label for="vignetteSlider">Vignette: <span id="vignetteValue">0</span></label>
                    <input 
                        type="range" 
                        id="vignetteSlider" 
                        min="0" 
                        max="1" 
                        step="0.05"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="brightnessSlider">Brightness: <span id="brightnessValue">0</span></label>
                    <input 
                        type="range" 
                        id="brightnessSlider" 
                        min="-100" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="contrastSlider">Contrast: <span id="contrastValue">100</span>%</label>
                    <input 
                        type="range" 
                        id="contrastSlider" 
                        min="0" 
                        max="200" 
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="saturationSlider">Saturation: <span id="saturationValue">100</span>%</label>
                    <input 
                        type="range" 
                        id="saturationSlider" 
                        min="0" 
                        max="200" 
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="hueSlider">Hue Shift: <span id="hueValue">0</span>Â°</label>
                    <input 
                        type="range" 
                        id="hueSlider" 
                        min="0" 
                        max="360" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="grayscaleSlider">Grayscale: <span id="grayscaleValue">0</span>%</label>
                    <input 
                        type="range" 
                        id="grayscaleSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="invertSlider">Invert: <span id="invertValue">0</span>%</label>
                    <input 
                        type="range" 
                        id="invertSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="blurSlider">Blur: <span id="blurValue">0</span>px</label>
                    <input 
                        type="range" 
                        id="blurSlider" 
                        min="0" 
                        max="20" 
                        step="0.5"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="sepiaSlider">Sepia: <span id="sepiaValue">0</span>%</label>
                    <input 
                        type="range" 
                        id="sepiaSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="opacitySlider">Opacity: <span id="opacityValue">100</span>%</label>
                    <input 
                        type="range" 
                        id="opacitySlider" 
                        min="10" 
                        max="100" 
                        value="100" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="glowSlider">Glow: <span id="glowValue">0</span></label>
                    <input 
                        type="range" 
                        id="glowSlider" 
                        min="0" 
                        max="20" 
                        step="0.5"
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="brightnessBoostSlider">Brightness Boost: <span id="brightnessBoostValue">0</span></label>
                    <input 
                        type="range" 
                        id="brightnessBoostSlider" 
                        min="0" 
                        max="100" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="warmthSlider">Warmth: <span id="warmthValue">0</span></label>
                    <input 
                        type="range" 
                        id="warmthSlider" 
                        min="-50" 
                        max="50" 
                        value="0" 
                        class="input-slider"
                    >
                </div>
                <div class="settings-group">
                    <label for="shadowSlider">Shadow Depth: <span id="shadowValue">0</span></label>
                    <input 
                        type="range" 
                        id="shadowSlider" 
                        min="0" 
                        max="20" 
                        step="0.5"
                        value="0" 
                        class="input-slider"
                    >
                </div>
            </section>

            <!-- Canvas Preview Section -->
            <section class="canvas-section">
                <h2>Preview</h2>
                <div class="canvas-container" id="canvasContainer">
                    <canvas id="outputCanvas" width="1080" height="1920"></canvas>
                    <div id="effectsOverlay" class="effects-overlay"></div>
                    <div id="canvasPlaceholder" class="canvas-placeholder">
                        Upload an image to generate ASCII art preview
                    </div>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="progress-section" id="progressSection" style="display: none;">
                <h3>Generating Video...</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <p class="progress-text" id="progressText">0%</p>
                <button id="cancelButton" class="btn btn-secondary">Cancel</button>
            </section>

            <!-- Action Buttons Section -->
            <section class="action-section" id="actionSection" style="display: none;">
                <button id="generateButton" class="btn btn-primary">Generate Video</button>
                <button id="downloadButton" class="btn btn-success" style="display: none;">
                    âœ“ Download Video
                </button>
            </section>

            <!-- Status Messages -->
            <div id="statusMessage" class="status-message"></div>
        </main>

        <footer>
            <p>AsciiImgGen Â© 2026 | Powered by FFmpeg.wasm</p>
        </footer>
    </div>

    <!-- Hidden canvas for image processing -->
    <canvas id="tempCanvas" style="display: none;"></canvas>

    <!-- FFmpeg.wasm Library -->
    <script async src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg/dist/ffmpeg.min.js"></script>
    
    <!-- Main Application Script -->
    <script src="script.js"></script>
</body>
</html>
